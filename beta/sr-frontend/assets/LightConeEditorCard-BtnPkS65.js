import{m as p,p as t,o as r,I as y,z as l,r as $,S as L,T as b,aR as k,a5 as n,aS as D}from"./index-3b67VH4-.js";import{M as u,D as f}from"./StatDisplay-DN_thmMF.js";import{d as w}from"./BusinessCenter-CUrDm_-f.js";import"./UploadCard-vqCFQOAi.js";import{a as S}from"./LightConeTrans-BoBfFZqr.js";import{L as K}from"./LocationAutocomplete-Cg_heHIe.js";import{C as T}from"./CardHeader-BNwiKr2P.js";import{C as A,G as m}from"./Grid-BwNEbLl1.js";function H({onClose:c,lightCone:e,setLightCone:d,footer:i,hideLocation:a=!1}){const{t:o}=p(["lightCone","common"]);return t(l,{bgt:"dark",children:[r(T,{title:"Light Cone Editor",action:r(y,{onClick:c,children:r(w,{})})}),t(A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[t(m,{container:!0,spacing:1,columns:{xs:1,md:2},children:[r(m,{item:!0,xs:1,md:!0,display:"flex",flexDirection:"column",children:r(S,{lcKey:(e==null?void 0:e.key)??"",setLCKey:s=>d({key:s}),label:e!=null&&e.key?"":o("editor.unknownLightCone")})}),r(m,{item:!0,xs:!0,md:"auto",display:"flex",children:r(B,{superimpose:(e==null?void 0:e.superimpose)??1,setSuperimposition:s=>d({superimpose:s}),disabled:!(e!=null&&e.key)})})]}),t(m,{container:!0,spacing:1,columns:{xs:1,md:4},marginBottom:1,children:[r(m,{item:!0,xs:1,display:"flex",flexDirection:"row",gap:1,children:r(E,{level:e==null?void 0:e.level,ascension:e==null?void 0:e.ascension,setLevelAscension:(s,x)=>{d({level:s,ascension:x})},disabled:!(e!=null&&e.key)})}),r(m,{item:!0,xs:1,display:"flex",gap:1,children:r(l,{bgt:"light",sx:{p:1,flexGrow:1,alignContent:"center"},children:r($.Suspense,{fallback:r(L,{width:"60%"}),children:t(b,{color:"text.secondary",align:"center",children:[o("editor.ascension")," ",(e==null?void 0:e.ascension)||0]})})})}),!a&&r(m,{item:!0,xs:1,md:2,display:"flex",flexDirection:"column",gap:1,children:r(K,{locKey:(e==null?void 0:e.location)??"",setLocKey:s=>d({location:s})})})]}),i]})]})}function B({superimpose:c,setSuperimposition:e,disabled:d=!1}){const{t:i}=p("lightCone_gen");return r(f,{title:`${i("superimpose")} ${c}`,color:"primary",disabled:d,fullWidth:!0,children:k.map(a=>t(u,{selected:c===a,disabled:c===a,onClick:()=>e(a),children:[i("superimpose")," ",a]},a))})}function E({level:c,ascension:e,setLevelAscension:d,disabled:i=!1}){const{t:a}=p(["common_gen","common"]);return r(f,{title:c?`${a("lv")} ${c}/${n[e??0]}`:a("common:selectlevel"),color:"primary",disabled:i,fullWidth:!0,children:D.map(([o,s])=>r(u,{selected:c===o&&e===s,disabled:c===o&&e===s,onClick:()=>d(o,s),children:o===n[s]?`${a("lv")} ${o}`:`${a("lv")} ${o}/${n[s]}`},`${o}/${s}`))})}export{H as L};
